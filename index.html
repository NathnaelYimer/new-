<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dealer Gears - F&I Menus</title>
  
  <!-- Bootstrap CSS -->
  <link href="dealer-menu/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="dealer-menu/assets/bootstrap-icons/bootstrap-icons.css">  <!-- Custom CSS -->
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="settings-styles.css">
  <script src="dealer-menu/assets/js/jspdf.umd.min.js"></script>
</head>
<body>

<!-- Sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <button id="sidebar-toggle" class="sidebar-toggle">
      <i class="bi bi-list"></i>
    </button>
  </div>
  
  <div class="sidebar-content">
    <div class="sidebar-section">
      <div class="menu-label">F&I Menus</div>
    </div>
    
    <div class="sidebar-section">
      <div class="menu-options sidebar-menu">
        <a href="index.html" class="active"><i class="bi bi-grid"></i> <span class="menu-text">Menu</span></a>
        <a href="settings.html"><i class="bi bi-gear"></i> <span class="menu-text">Settings</span></a>
        <a href="#" id="export-pdf-btn"><i class="bi bi-printer"></i> <span class="menu-text">Export Plan as PDF</span></a>
      </div>
    </div>
</div>
    
    <!-- <div class="sidebar-section">
      <div class="base-payment">
        <div class="base-payment-label">Base Protected Payment</div>
        <div class="base-payment-amount">$227.06</div>
      </div>
    </div> -->
  </div>
</div>

<!-- Main Content -->
<div class="main-content" id="main-content">
  <!-- Mobile Toggle Button -->
  <div class="mobile-toggle-container">
    <button id="mobile-toggle" class="mobile-toggle">
      <i class="bi bi-list"></i>
    </button>
    <div class="mobile-title">F&I Menus</div>
  </div>
  
  <div class="menu-container">
    <!-- Menu Table -->
    <div class="top-base-payment-wrapper">
      <div class="top-base-payment">
        <span class="base-payment-label">Base Protected Payment</span>
        <span class="base-payment-amount">$227.06 <span class="base-payment-term">for 60 months</span></span>
      </div>
    </div>
    <table class="menu-table">
      <thead>
        <tr>
          <th class="iron-bg">Iron</th>
          <th class="bronze-bg">Bronze</th>
          <th class="silver-bg">Silver</th>
          <th class="gold-bg">Gold</th>
          <th class="platinum-bg">Platinum</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td data-plan="iron">
            <div class="cell-content">
              <!-- Iron Column -->
              <div class="price-section">
                <div class="price-display iron-price">$28<span class="price-cents">.44</span></div>
                <!-- Month Selection Dropdown -->
                <div class="month-selector-wrapper">
                  <div class="dropdown month-selector">
                    <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                      <span class="price-term iron-term">for 60 months</span>
                    </button>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#" data-months="36" data-plan="iron">36 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="48" data-plan="iron">48 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="60" data-plan="iron">60 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="63" data-plan="iron">63 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="72" data-plan="iron">72 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="75" data-plan="iron">75 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="84" data-plan="iron">84 months</a></li>
                    </ul>
                  </div>
                </div>
              </div>
              <ul class="feature-list kanban-dropzone" data-plan="iron">
                <li class="feature-item" draggable="true" data-id="p22" data-plan="iron">
                  <div class="feature-content">
                    <span class="feature-check iron-check">✓</span>
                    <span class="product-name">Extended Warranty</span>
                  </div>
                </li>
                <li class="feature-item" draggable="true" data-id="p23" data-plan="iron">
                  <div class="feature-content">
                    <span class="feature-check iron-check">✓</span>
                    <span class="product-name">Key Fob Replacement</span>
                  </div>
                </li>
                <li class="add-product-wrapper">
                  <button class="add-product-btn btn btn-sm btn-icon" data-plan="iron" title="Add Product" aria-label="Add Product">
                    <i class="bi bi-plus-circle"></i>
                  </button>
                </li>
              </ul>
              <button class="choose-button iron">Choose</button>
              <a href="#" class="view-terms-link" data-plan="iron">View Full Terms & Conditions</a>
            </div>
          </td>
          <td data-plan="bronze">
            <div class="cell-content">
              <!-- Bronze Column -->
              <div class="price-section">
                <div class="price-display bronze-price">$39<span class="price-cents">.44</span></div>
                <!-- Month Selection Dropdown -->
                <div class="month-selector-wrapper">
                  <div class="dropdown month-selector">
                    <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                      <span class="price-term bronze-term">for 60 months</span>
                    </button>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#" data-months="36" data-plan="bronze">36 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="48" data-plan="bronze">48 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="60" data-plan="bronze">60 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="63" data-plan="bronze">63 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="72" data-plan="bronze">72 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="75" data-plan="bronze">75 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="84" data-plan="bronze">84 months</a></li>
                    </ul>
                  </div>
                </div>
              </div>
              <ul class="feature-list kanban-dropzone" data-plan="bronze">
                <li class="feature-item" draggable="true" data-id="p19" data-plan="bronze">
                  <div class="feature-content">
                    <span class="feature-check bronze-check">✓</span>
                    <span class="product-name">Extended Warranty</span>
                  </div>
                </li>
                <li class="feature-item" draggable="true" data-id="p20" data-plan="bronze">
                  <div class="feature-content">
                    <span class="feature-check bronze-check">✓</span>
                    <span class="product-name">Key Fob Replacement</span>
                  </div>
                </li>
                <li class="feature-item" draggable="true" data-id="p21" data-plan="bronze">
                  <div class="feature-content">
                    <span class="feature-check bronze-check">✓</span>
                    <span class="product-name">GAP</span>
                  </div>
                </li>
                <li class="add-product-wrapper">
                  <button class="add-product-btn btn btn-sm btn-icon" data-plan="bronze" title="Add Product" aria-label="Add Product">
                    <i class="bi bi-plus-circle"></i>
                  </button>
                </li>
              </ul>
              <button class="choose-button bronze">Choose</button>
              <a href="#" class="view-terms-link" data-plan="bronze">View Full Terms & Conditions</a>
            </div>
          </td>
          <td data-plan="silver">
            <div class="cell-content">
              <!-- Silver Column -->
              <div class="price-section">
                <div class="price-display silver-price">$43<span class="price-cents">.11</span></div>
                <!-- Month Selection Dropdown -->
                <div class="month-selector-wrapper">
                  <div class="dropdown month-selector">
                    <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                      <span class="price-term silver-term">for 60 months</span>
                    </button>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#" data-months="36" data-plan="silver">36 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="48" data-plan="silver">48 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="60" data-plan="silver">60 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="63" data-plan="silver">63 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="72" data-plan="silver">72 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="75" data-plan="silver">75 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="84" data-plan="silver">84 months</a></li>
                    </ul>
                  </div>
                </div>
              </div>
              <ul class="feature-list kanban-dropzone" data-plan="silver">
                <li class="feature-item" draggable="true" data-id="p14" data-plan="silver">
                  <div class="feature-content">
                    <span class="feature-check silver-check">✓</span>
                    <span class="product-name">Extended Warranty</span>
                  </div>
                </li>
                <li class="feature-item" draggable="true" data-id="p15" data-plan="silver">
                  <div class="feature-content">
                    <span class="feature-check silver-check">✓</span>
                    <span class="product-name">Rust Proofing</span>
                  </div>
                </li>
                <li class="feature-item" draggable="true" data-id="p16" data-plan="silver">
                  <div class="feature-content">
                    <span class="feature-check silver-check">✓</span>
                    <span class="product-name">Paint Protection</span>
                  </div>
                </li>
                <li class="feature-item" draggable="true" data-id="p17" data-plan="silver">
                  <div class="feature-content">
                    <span class="feature-check silver-check">✓</span>
                    <span class="product-name">Key Fob Replacement</span>
                  </div>
                </li>
                <li class="feature-item" draggable="true" data-id="p18" data-plan="silver">
                  <div class="feature-content">
                    <span class="feature-check silver-check">✓</span>
                    <span class="product-name">GAP</span>
                  </div>
                </li>
                <li class="add-product-wrapper">
                  <button class="add-product-btn btn btn-sm btn-icon" data-plan="silver" title="Add Product" aria-label="Add Product">
                    <i class="bi bi-plus-circle"></i>
                  </button>
                </li>
              </ul>
              <button class="choose-button silver">Choose</button>
              <a href="#" class="view-terms-link" data-plan="silver">View Full Terms & Conditions</a>
            </div>
          </td>
          <td data-plan="gold">
            <div class="cell-content">
              <!-- Gold Column -->
              <div class="price-section">
                <div class="price-display gold-price">$45<span class="price-cents">.19</span></div>
                <!-- Month Selection Dropdown -->
                <div class="month-selector-wrapper">
                  <div class="dropdown month-selector">
                    <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                      <span class="price-term gold-term">for 60 months</span>
                    </button>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#" data-months="36" data-plan="gold">36 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="48" data-plan="gold">48 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="60" data-plan="gold">60 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="63" data-plan="gold">63 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="72" data-plan="gold">72 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="75" data-plan="gold">75 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="84" data-plan="gold">84 months</a></li>
                    </ul>
                  </div>
                </div>
              </div>
              <ul class="feature-list kanban-dropzone" data-plan="gold">
                <li class="feature-item" draggable="true" data-id="p8" data-plan="gold">
                  <div class="feature-content">
                    <span class="feature-check gold-check">✓</span>
                    <span class="product-name">Extended Warranty</span>
                  </div>
                </li>
                <li class="feature-item" draggable="true" data-id="p9" data-plan="gold">
                  <div class="feature-content">
                    <span class="feature-check gold-check">✓</span>
                    <span class="product-name">Rust Proofing</span>
                  </div>
                </li>
                <li class="feature-item" draggable="true" data-id="p10" data-plan="gold">
                  <div class="feature-content">
                    <span class="feature-check gold-check">✓</span>
                    <span class="product-name">Paint Protection</span>
                  </div>
                </li>
                <li class="feature-item" draggable="true" data-id="p11" data-plan="gold">
                  <div class="feature-content">
                    <span class="feature-check gold-check">✓</span>
                    <span class="product-name">Fabric/Leather Protection</span>
                  </div>
                </li>
                <li class="feature-item" draggable="true" data-id="p12" data-plan="gold">
                  <div class="feature-content">
                    <span class="feature-check gold-check">✓</span>
                    <span class="product-name">Key Fob Replacement</span>
                  </div>
                </li>
                <li class="feature-item" draggable="true" data-id="p13" data-plan="gold">
                  <div class="feature-content">
                    <span class="feature-check gold-check">✓</span>
                    <span class="product-name">GAP</span>
                  </div>
                </li>
                <li class="add-product-wrapper">
                  <button class="add-product-btn btn btn-sm btn-icon" data-plan="gold" title="Add Product" aria-label="Add Product">
                    <i class="bi bi-plus-circle"></i>
                  </button>
                </li>
              </ul>
              <button class="choose-button gold">Choose</button>
              <a href="#" class="view-terms-link" data-plan="gold">View Full Terms & Conditions</a>
            </div>
          </td>
          <td data-plan="platinum">
            <div class="cell-content">
              <!-- Platinum Column -->
              <div class="price-section">
                <div class="price-display platinum-price">$49<span class="price-cents">.99</span></div>
                <!-- Month Selection Dropdown -->
                <div class="month-selector-wrapper">
                  <div class="dropdown month-selector">
                    <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                      <span class="price-term platinum-term">for 60 months</span>
                    </button>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#" data-months="36" data-plan="platinum">36 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="48" data-plan="platinum">48 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="60" data-plan="platinum">60 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="63" data-plan="platinum">63 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="72" data-plan="platinum">72 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="75" data-plan="platinum">75 months</a></li>
                      <li><a class="dropdown-item" href="#" data-months="84" data-plan="platinum">84 months</a></li>
                    </ul>
                  </div>
                </div>
              </div>
              <ul class="feature-list kanban-dropzone" data-plan="platinum">
                <li class="feature-item" draggable="true" data-id="p1" data-plan="platinum">
                  <div class="feature-content">
                    <span class="feature-check platinum-check">✓</span>
                    <span class="product-name">Extended Warranty</span>
                  </div>
                </li>
                <li class="feature-item" draggable="true" data-id="p2" data-plan="platinum">
                  <div class="feature-content">
                    <span class="feature-check platinum-check">✓</span>
                    <span class="product-name">Rust Proofing</span>
                  </div>
                </li>
                <li class="feature-item" draggable="true" data-id="p3" data-plan="platinum">
                  <div class="feature-content">
                    <span class="feature-check platinum-check">✓</span>
                    <span class="product-name">Paint Protection</span>
                  </div>
                </li>
                <li class="feature-item" draggable="true" data-id="p4" data-plan="platinum">
                  <div class="feature-content">
                    <span class="feature-check platinum-check">✓</span>
                    <span class="product-name">Fabric/Leather Protection</span>
                  </div>
                </li>
                <li class="feature-item" draggable="true" data-id="p5" data-plan="platinum">
                  <div class="feature-content">
                    <span class="feature-check platinum-check">✓</span>
                    <span class="product-name">Key Fob Replacement</span>
                  </div>
                </li>
                <li class="feature-item" draggable="true" data-id="p6" data-plan="platinum">
                  <div class="feature-content">
                    <span class="feature-check platinum-check">✓</span>
                    <span class="product-name">GAP</span>
                  </div>
                </li>
                <li class="feature-item" draggable="true" data-id="p7" data-plan="platinum">
                  <div class="feature-content">
                    <span class="feature-check platinum-check">✓</span>
                    <span class="product-name">Scratch/Dent Repair</span>
                  </div>
                </li>
                <li class="add-product-wrapper">
                  <button class="add-product-btn btn btn-sm btn-icon" data-plan="platinum" title="Add Product" aria-label="Add Product">
                    <i class="bi bi-plus-circle"></i>
                  </button>
                </li>
              </ul>
              <button class="choose-button platinum">Choose</button>
              <a href="#" class="view-terms-link" data-plan="platinum">View Full Terms & Conditions</a>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Product Explanation Modal -->
<!-- Product Explanation Modal -->
<!-- Product Explanation Modal -->
<div class="modal fade" id="productExplanationModal" tabindex="-1" aria-labelledby="productExplanationModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="productExplanationModalLabel">Product Information</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="productExplanationContent">
        <!-- Content will be dynamically inserted here -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger remove-product-btn-modal" data-product="" data-plan="">Remove</button>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- Terms and Conditions Modal -->
<div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="termsModalLabel">Terms & Conditions</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="termsModalContent">
        <!-- Content will be dynamically inserted here -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- Add Product Modal -->
<div class="modal fade" id="addProductModal" tabindex="-1" aria-labelledby="addProductModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addProductModalLabel">Add New Product</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="addProductForm">
          <div class="mb-3">
            <label for="productName" class="form-label">Product Name</label>
            <input type="text" class="form-control" id="productName" placeholder="Enter product name" required>
          </div>
          <input type="hidden" id="targetPlan" name="targetPlan">
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" id="saveProductBtn">Add Product</button>
      </div>
    </div>
  </div>
</div>



<div class="modal fade" id="addPlanProductModal" tabindex="-1" aria-labelledby="addPlanProductModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addPlanProductModalLabel">Add Product to Plan</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="addPlanProductForm">
          <div class="mb-3">
            <label for="planProductSelect" class="form-label">Select Product</label>
            <select class="form-select" id="planProductSelect" required>
              <option value="" disabled selected>Choose a product</option>
              <!-- Options will be populated dynamically -->
            </select>
          </div>
          <input type="hidden" id="targetPlan" name="targetPlan">
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" id="addPlanProductBtn">Add Product</button>
      </div>
    </div>
  </div>
</div>
<!-- Price Settings Modal -->
<div class="modal fade" id="priceSettingsModal" tabindex="-1" aria-labelledby="priceSettingsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content" style="background: var(--bg-dark-soft); border: 1px solid rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px);">
      <div class="modal-header" style="border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
        <h5 class="modal-title" id="priceSettingsModalLabel" style="color: var(--text-light); font-weight: 600;">Price Display Settings</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" style="filter: invert(1);"></button>
      </div>
      <div class="modal-body">
        <form id="priceSettingsForm" style="color: var(--text-light-soft);">
          <div class="mb-3">
            <label class="form-label" style="font-weight: 500;">Price Position</label>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="pricePosition" id="priceTop" value="top" checked style="accent-color: var(--platinum-color);">
              <label class="form-check-label" for="priceTop">Top</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="pricePosition" id="priceBottom" value="bottom" style="accent-color: var(--platinum-color);">
              <label class="form-check-label" for="priceBottom">Bottom</label>
            </div>
          </div>
          <div class="mb-3">
            <label class="form-label" style="font-weight: 500;">Price Type</label>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="priceType" id="priceCash" value="cash" checked style="accent-color: var(--platinum-color);">
              <label class="form-check-label" for="priceCash">Cash (Total Price)</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="priceType" id="priceFinanced" value="financed" style="accent-color: var(--platinum-color);">
              <label class="form-check-label" for="priceFinanced">Financed (Monthly Payment)</label>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer" style="border-top: 1px solid rgba(255, 255, 255, 0.1);">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" style="background: rgba(255, 255, 255, 0.1); color: var(--text-light); border: none;">Close</button>
        <button type="button" class="btn btn-primary" id="savePriceSettings" style="background: var(--platinum-gradient); border: none; box-shadow: var(--shadow-md);">Save Changes</button>
      </div>
    </div>
  </div>
</div>
<!-- Bootstrap JS Bundle with Popper -->
<script src="dealer-menu/assets/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="script.js?v=1"></script>
</body>
</html>